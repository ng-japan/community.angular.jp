<div class="h-screen flex flex-col" [class.overflow-hidden]="isMenuOpen()">
  <header>
    <div class="flex flex-row items-center justify-between h-14 lg:h-16 px-4 text-gray-500 md:hidden">
      <span class="text-xl">Japan Angular User Group</span>

      <button
        aria-label="open menu"
        aria-haspopup="menu"
        class="flex items-center justify-center w-10 h-10 rounded focus:ring"
        (click)="toggleMenu()"
      >
        <app-icon-menu></app-icon-menu>
      </button>
    </div>
  </header>

  <div class="relative flex h-full">
    <!-- backdrop -->
    <!-- eslint-disable-next-line @angular-eslint/template/click-events-have-key-events, @angular-eslint/template/interactive-supports-focus -->
    <div
      class="w-full h-full absolute inset-y-0 left-0 bg-black opacity-60"
      [class.hidden]="!isMenuOpen()"
      (click)="closeMenu()"
    ></div>
    <!-- sidenav -->
    <div
      class="bg-white shadow z-10 w-64 fixed top-14 md:top-0 md:h-full left-0 h-[calc(100%-3.5rem)] transform md:translate-x-0 transition duration-200 ease-in-out"
      [class.-translate-x-full]="!isMenuOpen()"
    >
      <div class="flex justify-center pt-2">
        <img src="/assets/image/logo.svg" class="w-12" width="96" height="96" alt="ng-japan" />
      </div>
      <!-- eslint-disable-next-line @angular-eslint/template/click-events-have-key-events, @angular-eslint/template/interactive-supports-focus -->
      <nav appNavList (click)="closeMenu()">
        <a appNavListItem routerLink="/" routerLinkActive [routerLinkActiveOptions]="{ exact: true }">トップ</a>
        <a appNavListItem [routerLink]="'/policy'" routerLinkActive>コミュニティポリシー</a>
        <a appNavListItem [routerLink]="'/local'" routerLinkActive>ローカルコミュニティ</a>
        <a appNavListItem [routerLink]="'/learn'" routerLinkActive>Angularを学ぶ</a>
        <a appNavListItem [routerLink]="'/about'" routerLinkActive>About</a>

        <a appNavListItem href="https://ngjapan.org/" target="_blank" rel="noopener">
          <app-icon-external-link></app-icon-external-link>
          <span>ngjapan.org</span>
        </a>

        <a appNavListItem href="https://medium.com/angular-japan-user-group" target="_blank" rel="noopener">
          <app-icon-external-link></app-icon-external-link>
          <span>公式ブログ</span>
        </a>

        <a appNavListItem href="https://twitter.com/ng_japan" target="_blank" rel="noopener">
          <app-icon-external-link></app-icon-external-link>
          <span>Twitter</span>
        </a>
      </nav>
    </div>

    <!-- content -->
    <div class="flex-1 h-full flex flex-col ml-0 md:ml-64">
      <main class="flex-1 px-6 py-4">
        <router-outlet></router-outlet>
      </main>

      <footer class="text-center p-2">
        <div>&copy; Japan Angular User Group</div>
        <div class="flex flex-row gap-x-2 justify-center items-center text-sm">
          <span>Built with Angular v{{ ngVersion }}</span>
          <a href="https://github.com/ng-japan/community.angular.jp" target="_blank" rel="noopener"> GitHub </a>
        </div>
      </footer>
    </div>
  </div>
</div>
